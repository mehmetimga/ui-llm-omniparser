# Login Flow Test Suite
# Tests the authentication flow of the Poker Admin panel

metadata:
  name: Login Flow
  description: Tests user authentication including login and logout
  version: "1.0.0"
  author: QA Team
  tags:
    - auth
    - critical
    - smoke
  app: poker-admin
  environment:
    baseUrl: http://localhost:3000
    viewport:
      width: 1920
      height: 1080
    browser: chromium

steps:
  - name: Navigate to login page
    description: Open the application and verify login page loads
    actions:
      - type: NAVIGATE
        url: http://localhost:3000
        description: Navigate to application root
      - type: WAIT
        ms: 1000
        description: Wait for page to load
      - type: ASSERT
        predicate:
          kind: TEXT_EXISTS
          value: POKER ADMIN
        description: Verify login page header is visible

  - name: Verify login form elements
    description: Check that all login form elements are present
    actions:
      - type: ASSERT
        predicate:
          kind: TEXT_EXISTS
          value: Email Address
        description: Email label is visible
      - type: ASSERT
        predicate:
          kind: TEXT_EXISTS
          value: Password
        description: Password label is visible
      - type: ASSERT
        predicate:
          kind: TEXT_EXISTS
          value: Sign In
        description: Sign in button is visible

  - name: Enter credentials and submit
    description: Type email and password using keyboard navigation
    actions:
      - type: PRESS_KEY
        key: Tab
        description: Tab to email field
      - type: PRESS_KEY
        key: Tab
        description: Tab to email input
      - type: TYPE
        target: text:adminmpokercom
        text: admin@poker.com
        description: Enter email address
      - type: PRESS_KEY
        key: Tab
        description: Tab to password field
      - type: TYPE
        target: text:possword
        text: secretpassword123
        description: Enter password
      - type: PRESS_KEY
        key: Enter
        description: Submit form
      - type: WAIT
        ms: 2000
        description: Wait for login to process

  - name: Verify successful login
    description: Check that dashboard is displayed after login
    actions:
      - type: WAIT
        ms: 500
        description: Wait for dashboard to fully load
      - type: ASSERT
        predicate:
          kind: URL_CONTAINS
          value: dashboard
        description: URL contains dashboard


